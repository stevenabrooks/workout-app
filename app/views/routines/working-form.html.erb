
<%= form_tag routines_path %>

  <%= label_tag "routine[name]", "Routine Name" %>
  <%= text_field_tag "routine[name]" %><br />

  <%= label_tag "routine[date]", "Date" %>
  <%= text_field_tag "routine[date]", nil, id: "date" %><br />

    <% 2.times do |n| %>
      
      <div class="ui-widget">
        <%= text_field_tag "[lifts][][#{n}][exercise_id]", nil, :placeholder => "Choose Exercise", id: "exercise" %>
      </div>
    <%#= select("[lifts][][#{n}]", "exercise_id", Exercise.all.collect {|p| [ p.name, p.id] }) %><br />
    
      <%= label_tag "[lifts][][#{n}][infos][][weight]", "weight" %>
      <%= text_field_tag "[lifts][][#{n}][infos][][weight]" %>
      
      <%= label_tag "[lifts][][#{n}][infos][][repetition]", "reps" %>
      <%= text_field_tag "[lifts][][#{n}][infos][][repetition]" %><br />

      <%= label_tag "[lifts][][#{n}][infos][][weight]", "weight" %>
      <%= text_field_tag "[lifts][][#{n}][infos][][weight]" %>
      
      <%= label_tag "[lifts][][#{n}][infos][][repetition]", "reps" %>
      <%= text_field_tag "[lifts][][#{n}][infos][][repetition]" %><br />

      <%= label_tag "[lifts][][#{n}][infos][][weight]", "weight" %>
      <%= text_field_tag "[lifts][][#{n}][infos][][weight]" %>
      
      <%= label_tag "[lifts][][#{n}][infos][][repetition]", "reps" %>
      <%= text_field_tag "[lifts][][#{n}][infos][][repetition]" %><br />
    <% end %>

 
 
  
<%= submit_tag "Submit Routine" %>

<script>

$(function() {
    $( "#date" ).datepicker({
      dateFormat: 'yy-mm-dd'
    }); 
    
var availableExercises = [
      <% Exercise.all.each do |exercise| %>
      '<%= exercise.name %>',
      <% end %>
    ];

$("#exercise").autocomplete({
      source: availableExercises
    });

  });
</script>











