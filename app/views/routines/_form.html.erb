
<%= form_tag routines_path %>

  <%= label_tag "routine[name]", "Routine Name" %>
  <%= text_field_tag "routine[name]" %><br />

    <% 2.times do |n| %>

    <%= select("[lifts][][#{n}]", "exercise_id", Exercise.all.collect {|p| [ p.name, p.id] }) %><br />
    
      <%= label_tag "[lifts][][#{n}][infos][][weight]", "weight" %>
      <%= text_field_tag "[lifts][][#{n}][infos][][weight]" %>
      
      <%= label_tag "[lifts][][#{n}][infos][][repetition]", "reps" %>
      <%= text_field_tag "[lifts][][#{n}][infos][][repetition]" %><br />
    <% end %>

 
 
  
<%= submit_tag "Submit Routine" %>



<!-- 
{:routine=>{
  :name=>"Test"},
   :arbitrary=>[
    {
      :lift=>{
        :exercise_id=>"1",
        :infos=>[
          {:weight=>"250", :repetiton=>"8"}, {:weight=>"275", :repetition=>"6"}
            ]}}]} -->

<!-- select("lifts[]", "exercise_id", Exercise.all.collect {|p| [ p.name, p.id] })  -->

<!-- collection_select("lifts[]", :exercise_id, Exercise.all, :id, :name) -->

<!-- select("lifts", "exercise_id", Exercise.all.collect {|p| [ p.name, p.id] }) -->


<!--   def create
    @routine = Routine.new(:name => params[:routine][:name])
    @routine.save
    exercise_hash = params[:lifts]    
    lift = Lift.create(:exercise_id => exercise_hash[:exercise_id].to_i, :routine_id => @routine.id)
    exercise_hash[:infos].each do |hash_of_info|
      hash_of_info[:lift_id] = lift.id
      Info.create(hash_of_info)
    end
   -->



















